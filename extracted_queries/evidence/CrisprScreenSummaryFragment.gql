# Query Name: CrisprScreenSummaryFragment
# Entity Type: evidence
# Description:
# Fetches the count of CRISPR screen evidence entries for a target-disease
#  association from CRISPRBrain dataset. Used to determine if CRISPR screen
#  data is available for the evidence section.
# Variables:
# efoId: String! (Example: EFO_0000756), ensgId: String! (Example:
#  ENSG00000157764)
# Pagination Behavior: Full results
# Notes:
# Originally a fragment, converted to standalone query. Query successfully
#  tested with BRAF (ENSG00000157764) + melanoma (EFO_0000756), returned
#  count=0. Uses size=0 parameter to retrieve only count without fetching
#  evidence rows for efficient summary display. Returns total number of CRISPR
#  screen evidence entries from CRISPRBrain without pagination. Queries
#  disease.evidences with datasourceIds=['crispr_screen'] and
#  enableIndirect=true. Related to CrisprScreenQuery.gql which fetches full
#  evidence details including studyId, cellType, log2FoldChange,
#  resourceScore, and literature references.
#
# Last Updated: 2025-11-21
query CrisprScreenSummaryFragment($efoId: String!, $ensgId: String!) {
  # Return a Disease
  disease(efoId: $efoId) {
    # Open Targets disease id
    id
    # The complete list of all possible datasources
    CrisprScreenSummary: evidences(
      ensemblIds: [$ensgId]
      enableIndirect: true
      datasourceIds: ["crispr_screen"]
      size: 0
    ) {
      count
    }
  }
}

# Query Name: UniprotLiteratureQuery
# Entity Type: evidence
# Description:
# Fetches UniProt literature evidence linking a target gene to a disease,
#  including curated literature references and confidence levels for genetic
#  associations. Returns evidence from UniProt's manually curated disease-gene
#  associations.
# Variables:
# ensemblId: String! (Example: ENSG00000142192), efoId: String! (Example:
#  MONDO_0004975), size: Int! (Example: 3500)
# Pagination Behavior: Paginated (batch: 3500/page by default)
# Notes:
# Query successfully tested. BRAF (ENSG00000157764) + melanoma (EFO_0000756)
#  returned count=0. Also tested with APP (ENSG00000142192) + Alzheimer
#  disease (MONDO_0004975), returned count=1 with comprehensive literature
#  evidence showing 30 PubMed IDs supporting high confidence association with
#  'Alzheimer disease type 1' (MONDO_0007088). Uses size-based pagination
#  where size parameter controls maximum number of rows returned. Default size
#  is 3500 (sectionsBaseSizeQuery constant). Returns count field showing total
#  matches and rows array with evidence. Query uses enableIndirect=true to
#  include indirect disease associations and
#  datasourceIds=['uniprot_literature'] to filter to UniProt literature data.
#  Response includes target.approvedSymbol, disease (id, name),
#  diseaseFromSource (original disease name from UniProt like 'Alzheimer
#  disease 1'), targetFromSourceId (UniProt protein ID like P05067), studyId
#  (can be null), literature (array of PubMed IDs), and confidence
#  (high/medium/low). No fragments to inline - self-contained query. Related
#  to UniprotLiteratureSummary.gql which fetches only count for summary
#  display. UniProt literature provides manually curated genetic associations
#  with high-quality evidence from published literature. Coverage varies by
#  target-disease pair - well-studied genetic diseases have more evidence.
#
# Last Updated: 2025-11-21
query UniprotLiteratureQuery($ensemblId: String!, $efoId: String!, $size: Int!) {
  # Return a Target
  target(ensemblId: $ensemblId) {
    # HGNC approved symbol
    approvedSymbol
  }
  # Return a Disease
  disease(efoId: $efoId) {
    # Open Targets disease id
    id
    # The complete list of all possible datasources
    uniprotLiteratureSummary: evidences(
      ensemblIds: [$ensemblId]
      enableIndirect: true
      datasourceIds: ["uniprot_literature"]
      size: $size
    ) {
      count
      rows {
        # Disease evidence
        disease {
          # Open Targets disease id
          id
          # Disease name
          name
        }
        diseaseFromSource
        targetFromSourceId
        studyId
        # list of pub med publications ids
        literature
        confidence
      }
    }
  }
}

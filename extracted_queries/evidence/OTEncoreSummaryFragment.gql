# Query Name: OTEncoreSummaryFragment
# Entity Type: evidence
# Description:
# Retrieves the count of OT Encore evidence entries for a target-disease
#  association. Used to display summary statistics showing the number of
#  evidence entries from the Encore datasource (Open Targets partner data).
# Variables:
# efoId: String! (Example: EFO_0000756), ensgId: String! (Example:
#  ENSG00000157764)
# Pagination Behavior: Full results
# Notes:
# Originally a fragment, converted to standalone query. Query successfully
#  tested with BRAF (ENSG00000157764) + melanoma (EFO_0000756), returned
#  count=0. Also tested with TNF (ENSG00000232810) + rheumatoid arthritis
#  (EFO_0000685), returned count=0. Uses size=0 parameter to retrieve only
#  count without fetching evidence rows for efficient summary display. Returns
#  total number of OT Encore evidence entries without pagination. OT Encore is
#  a private/partner datasource with restricted data availability, marked in
#  UI as 'OT Partner' data type. Part of Public-Private Partnership (PPP)
#  program evidenced by partnerDataSources=['encore'] in platform profile
#  configs. Used by Summary component in OTEncore section to display entry
#  count. enableIndirect=true to include indirect evidence associations.
#  datasourceIds=['encore'] targets the Encore private partner data. Sparse
#  data coverage - tests indicate limited availability even for well-studied
#  pairs. Related to potential full OTEncore section query (not found in
#  codebase) which would fetch detailed evidence records similar to other
#  evidence sources.
#
# Last Updated: 2025-11-21
query OTEncoreSummaryFragment($efoId: String!, $ensgId: String!) {
  # Return a Disease
  disease(efoId: $efoId) {
    # Open Targets disease id
    id
    # Disease name
    name
    # The complete list of all possible datasources
    otEncoreSummary: evidences(
      ensemblIds: [$ensgId]
      enableIndirect: true
      datasourceIds: ["encore"]
      size: 0
    ) {
      count
    }
  }
}

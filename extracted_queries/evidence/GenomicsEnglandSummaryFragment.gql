# Query Name: GenomicsEnglandSummaryFragment
# Entity Type: evidence
# Description:
# Retrieves the count of Genomics England Panel App evidence entries for a
#  target-disease association. Used in the evidence section summary to display
#  the number of available GEL PanelApp entries.
# Variables:
# efoId: String! (Example: MONDO_0007254), ensgId: String! (Example:
#  ENSG00000141510)
# Pagination Behavior: Full results
# Notes:
# Originally a fragment, converted to standalone query. Query successfully
#  tested with TP53 (ENSG00000141510) + MONDO_0007254 (resolves to breast
#  cancer), returned count=2. Also tested with BRAF (ENSG00000157764) +
#  melanoma (EFO_0000756), returned count=0. Uses size=0 parameter to retrieve
#  only count without fetching evidence rows for efficient summary display.
#  Returns total number of Genomics England Panel App evidence entries without
#  pagination. Used by Summary component in GenomicsEngland section to display
#  entry count in format 'X entr(y|ies)'. GEL PanelApp primarily covers rare
#  disease gene panels, so common cancer pairs may return count=0. Datasource
#  ID: genomics_england, uses enableIndirect=true.
#
# Last Updated: 2025-11-21
query GenomicsEnglandSummaryFragment($ensgId: String!, $efoId: String!) {
  # Return a Disease
  disease(efoId: $efoId) {
    # The complete list of all possible datasources
    genomicsEngland: evidences(
      ensemblIds: [$ensgId]
      enableIndirect: true
      datasourceIds: ["genomics_england"]
      size: 0
    ) {
      count
    }
  }
}

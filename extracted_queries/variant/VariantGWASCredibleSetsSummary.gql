# Query Name: VariantGWASCredibleSetsSummary
# Entity Type: variant
# Description:
# Retrieves the total count of GWAS credible sets associated with a genetic
#  variant. Used to determine if the GWAS Credible Sets section should be
#  displayed on the variant page.
# Variables: variantId: String! (Example: 19_44908822_C_T)
# Pagination Behavior: Full results
# Notes:
# Originally a fragment (VariantGWASCredibleSetsSummaryFragment on Variant),
#  converted to standalone query. Query successfully tested with rs7412
#  variant (19_44908822_C_T), returned count=1102 GWAS credible sets, and with
#  variant 1_113761186_C_A, returned count=278 GWAS credible sets. No
#  pagination - returns only the count field, not the actual credible set
#  data. Response includes variant object with id (variant ID in
#  chr_pos_ref_alt format) and gwasCredibleSets object containing count
#  (integer representing total number of GWAS credible sets where this variant
#  appears). Uses studyTypes filter set to [gwas] to retrieve only GWAS
#  credible sets (excluding QTL credible sets). Used in Summary.tsx component
#  to determine section visibility via hasData function which checks if
#  gwasCredibleSets.count > 0. The summary component uses this minimal query
#  (with page size=1, index=0) to efficiently check data availability without
#  fetching actual credible set rows. The main Body component uses
#  GWASCredibleSetsQuery.gql (not yet extracted) which paginates through
#  actual credible set rows with full details including lead variants,
#  studies, traits, diseases, p-values, beta values, posterior probabilities,
#  fine-mapping methods and confidence, L2G predictions, and credible set
#  sizes. Fragment inlined with id field added for proper query structure.
#  Related to GWASCredibleSetsQuery.gql which provides paginated full credible
#  set details with size=500/batch for the detailed table showing which GWAS
#  studies include this variant in their credible sets.
#
# Last Updated: 2025-11-21
query VariantGWASCredibleSetsSummary($variantId: String!) {
  # Return a Variant
  variant(variantId: $variantId) {
    id
    # Credible sets
    gwasCredibleSets: credibleSets(studyTypes: [gwas], page: { size: 1, index: 0 }) {
      count
    }
  }
}

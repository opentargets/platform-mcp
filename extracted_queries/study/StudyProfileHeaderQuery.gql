# Query Name: StudyProfileHeaderQuery
# Entity Type: study
# Description:
# Fetches comprehensive study profile information including publication
#  details, sample statistics, quality controls, and study-specific metadata
#  for display in the Study Profile Header component.
# Variables: studyId: String!
# Pagination Behavior: Full results
# Notes:
# Originally a fragment (StudyProfileHeaderFragment), converted to standalone
#  query. Query successfully tested with GCST90002357, returning complete data
#  including 19 cohorts, 6 QC check values, and metadata for a GWAS study on
#  platelet count.
#
# Last Updated: 2025-11-21
query StudyProfileHeaderQuery($studyId: String!) {
  # Return a Study
  study(studyId: $studyId) {
    # The study type
    studyType
    publicationFirstAuthor
    publicationDate
    publicationJournal
    pubmedId
    traitFromSource
    # The project identifier
    projectId
    backgroundTraits {
      # Open Targets disease id
      id
      # Disease name
      name
    }
    diseases {
      # Open Targets disease id
      id
      # Disease name
      name
    }
    # Target
    target {
      # Open Targets target id
      id
      # HGNC approved symbol
      approvedSymbol
    }
    nSamples
    initialSampleSize
    nCases
    nControls
    cohorts
    ldPopulationStructure {
      ldPopulation
      relativeSampleSize
    }
    hasSumstats
    sumstatQCValues {
      QCCheckName
      QCCheckValue
    }
    qualityControls
    analysisFlags
    # biosample
    biosample {
      biosampleId
      biosampleName
    }
    # Condition
    condition
  }
}

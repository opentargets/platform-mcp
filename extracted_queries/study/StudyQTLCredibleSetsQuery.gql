# Query Name: StudyQTLCredibleSetsQuery
# Entity Type: study
# Description:
# Retrieves QTL (Quantitative Trait Loci) credible sets for a study including
#  study details lead variants fine-mapping statistics and posterior
#  probabilities. Uses batch pagination.
# Variables: studyId: String!
# Pagination Behavior: Paginated (batch: 2000/page default)
# Notes:
# Query successfully tested with GCST90002357, returned count=1514 QTL
#  credible sets.
#
# Last Updated: 2025-11-21
query StudyQTLCredibleSetsQuery($studyId: String!) {
  # Return a Study
  study(studyId: $studyId) {
    # The study identifier
    id
    # Credible sets
    credibleSets(page: { size: 2000, index: 0 }) {
      count
      rows {
        studyLocusId
        variant {
          id
          chromosome
          position
          referenceAllele
          alternateAllele
        }
        pValueMantissa
        pValueExponent
        beta
        locus {
          count
        }
        finemappingMethod
        confidence
      }
    }
  }
}

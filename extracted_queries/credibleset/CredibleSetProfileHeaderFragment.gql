# Query Name: CredibleSetProfileHeaderFragment
# Entity Type: credibleset
# Description:
# Fetches comprehensive credible set profile information including statistical
#  measures (p-values, beta, standard error), fine-mapping details, variant
#  information, and associated study metadata
# Variables: variantIds: [String!]
# Pagination Behavior: Full results
# Notes:
# Re-verified 2025-11-19 with valid credible set ID
#  7d68cc9c70351c9dbd2a2c0c145e555d. Query returns complete credible set data
#  including p-values (1.27e-168), beta (0.037), purity R2 (0.988),
#  finemappingMethod (SuSiE-inf), variant info (rs6679677 on Chr1), study
#  metadata (Rheumatoid arthritis GWAS with 276k samples), quality controls,
#  confidence scores, and locus data (count=2). Original test ID was
#  non-existent in database.
#
# Last Updated: 2025-11-21
fragment CredibleSetProfileHeaderFragment on CredibleSet {
  pValueMantissa
  pValueExponent
  beta
  standardError
  effectAlleleFrequencyFromSource
  qualityControls
  locus(variantIds: $variantIds) {
    count
    rows {
      posteriorProbability
      pValueMantissa
      pValueExponent
      beta
      standardError
    }
  }
  locusSize: locus(page: { size: 1, index: 0 }) {
    count
  }
  variant {
    chromosome
    position
    rsIds
  }
  finemappingMethod
  purityMinR2
  locusStart
  locusEnd
  confidence
  # Gwas study
  study {
    # The project identifier
    projectId
    publicationFirstAuthor
    publicationDate
    traitFromSource
    diseases {
      # Open Targets disease id
      id
      # Disease name
      name
    }
    backgroundTraits {
      # Open Targets disease id
      id
      # Disease name
      name
    }
    # Target
    target {
      # Open Targets target id
      id
      # HGNC approved symbol
      approvedSymbol
    }
    # biosample
    biosample {
      biosampleId
      biosampleName
    }
    publicationJournal
    pubmedId
    nSamples
    cohorts
    initialSampleSize
    # The study type
    studyType
    hasSumstats
    analysisFlags
    sumstatQCValues {
      QCCheckName
      QCCheckValue
    }
    ldPopulationStructure {
      ldPopulation
      relativeSampleSize
    }
  }
}
